(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00467f66"],{"019a":function(t,s,o){"use strict";var a=o("2654"),i=o.n(a);i.a},"12fe":function(t,s,o){"use strict";var a=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",[o("div",{staticClass:"footer"},[o("router-link",{attrs:{to:"/postcomment/"+t.post.id}},[o("div",{staticClass:"comment-input"},[t._v("发布评论")])]),o("div",{staticClass:"icons"},[o("span",{staticClass:"iconfont iconpinglun-"}),o("i",[t._v(t._s(t.post.comment_length>100?"99+":t.post.comment_length))])]),o("div",{staticClass:"icons",on:{click:t.handerstar}},[o("span",{staticClass:"iconfont iconshoucang",class:t.post.has_star?"active":""})]),t._m(0)],1)])},i=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"icons"},[o("span",{staticClass:"iconfont iconfenxiang"})])}],n={props:["post"],methods:{handerstar:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfo"))||{},o=s.token;this.$axios({url:"/post_star/"+this.post.id,headers:{Authorization:o}}).then((function(s){t.post.has_star=!t.post.has_star,t.$toast.success(t.post.has_star?"收藏成功":"取消收藏")}))}}},e=n,c=(o("3af1"),o("2877")),l=Object(c["a"])(e,a,i,!1,null,"4ebefb07",null);s["a"]=l.exports},2654:function(t,s,o){},"3af1":function(t,s,o){"use strict";var a=o("3de6"),i=o.n(a);i.a},"3de6":function(t,s,o){},"488b":function(t,s,o){t.exports=o.p+"img/hua.f77fcdc7.jpg"},"81a8":function(t,s,o){"use strict";o.r(s);var a=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",[t.post.content?o("video",{staticClass:"video",attrs:{src:t.$axios.defaults.baseURL+t.post.content,controls:"controls"}}):t._e(),o("div",{staticClass:"main"},[o("div",{staticClass:"author"},[t._m(0),o("span",{staticClass:"follow",class:t.post.has_follow?"":"active",on:{click:t.handerfollow}},[t._v(t._s(t.post.has_follow?"已关注":"关注"))])]),o("h2",{staticClass:"title"},[t._v("欢迎来自火星的朋友")]),o("div",{staticClass:"actions"},[o("div",{staticClass:"actions-item",on:{click:t.handerlike}},[o("span",{staticClass:"iconfont icondianzan"}),o("i",[t._v(t._s(t.post.like_length?t.post.like_length:"0"))])]),t._m(1)])]),o("Postfooter",{attrs:{post:t.post}})],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"userinfo"},[a("img",{attrs:{src:o("488b"),alt:""}}),a("span",[t._v("火星少年")])])},function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"actions-item"},[o("span",{staticClass:"iconfont iconweixin"}),o("i",[t._v("微信")])])}],n=o("12fe"),e={data:function(){return{post:{user:{},cover:[{}]}}},components:{Postfooter:n["a"]},mounted:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfo"))||{},o=s.token;this.token=o;var a={url:"/post/"+this.$route.params.id};o&&(a.headers={Authorization:o}),this.$axios(a).then((function(s){var o=s.data.data;t.post=o}))},methods:{handerfollow:function(){var t=this,s="";s=this.post.has_follow?"/user_unfollow/"+this.post.user.id:"/user_follows/"+this.post.user.id,this.$axios({url:s,headers:{Authorization:this.token}}).then((function(s){t.post.has_follow=!t.post.has_follow,t.post.has_follow?t.$toast.success("关注成功"):t.$toast.success("取消关注成功")}))},handerlike:function(){var t=this;this.$axios({url:"/post_like/"+this.post.id,headers:{Authorization:this.token}}).then((function(s){t.post.has_like=!t.post.has_like,t.post.has_like?t.post.like_length+=1:t.post.like_length-=1,t.$toast.success(s.data.message)}))}}},c=e,l=(o("019a"),o("2877")),r=Object(l["a"])(c,a,i,!1,null,"7979c52e",null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-00467f66.5536ea26.js.map